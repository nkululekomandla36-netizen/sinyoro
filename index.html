<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Sinyoro - Offline-first marketplace for rural African communities. Buy, sell, and barter essential goods without internet.">
<meta name="theme-color" content="#0f172a">
<title>Sinyoro - Rural Community Marketplace</title>

<!-- Critical CSS inline -->
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body { 
    font-family: 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 50%, #0f172a 100%);
    color: #fff; min-height:100vh; line-height:1.6; overflow-x:hidden;
}
.loading { opacity: 0; animation: fadeIn 0.5s forwards; }
@keyframes fadeIn { to { opacity: 1; } }
</style>

<link rel="stylesheet" href="css/style.css">
<link rel="preload" href="css/style.css" as="style">
</head>
<body class="loading">

<!-- Navbar -->
<nav class="navbar" role="navigation" aria-label="Main navigation">
    <div class="nav-brand">
        <div class="logo-icon">ğŸŒ</div>
        <div class="brand-text">
            <div class="logo">Sinyoro</div>
            <div class="brand-name" data-i18n="brandName">Community Marketplace</div>
        </div>
    </div>

    <button class="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false" type="button">
        <span></span><span></span><span></span>
    </button>

    <ul class="nav-menu" role="menubar">
        <li role="none"><a href="#home" class="nav-link active" role="menuitem" data-i18n="navHome">Home</a></li>
        <li role="none"><a href="#market" class="nav-link" role="menuitem" data-i18n="navMarket">Market</a></li>
        <li role="none"><a href="#myitems" class="nav-link" role="menuitem" data-i18n="navMyItems">My Items</a></li>
        <li role="none"><a href="#community" class="nav-link" role="menuitem" data-i18n="navCommunity">Community</a></li>
        <li role="none"><a href="#help" class="nav-link" role="menuitem" data-i18n="navHelp">Help</a></li>
    </ul>

    <div class="nav-actions">
        <!-- Language Selector -->
        <div class="language-selector" id="langSelector">
            <button type="button" id="languageBtn" class="lang-btn" aria-haspopup="true" aria-expanded="false">
                <span class="lang-icon">ğŸŒ</span>
                <span class="current-lang">English</span>
                <span class="dropdown-arrow">â–¼</span>
            </button>
            <div id="langDropdown" class="lang-dropdown" role="menu" aria-labelledby="languageBtn">
                <button type="button" class="lang-option active" data-lang="en" role="menuitem">ğŸ‡¬ğŸ‡§ English</button>
                <button type="button" class="lang-option" data-lang="sw" role="menuitem">ğŸ‡°ğŸ‡ª Kiswahili</button>
                <button type="button" class="lang-option" data-lang="zu" role="menuitem">ğŸ‡¿ğŸ‡¦ isiZulu</button>
                <button type="button" class="lang-option" data-lang="sn" role="menuitem">ğŸ‡¿ğŸ‡¼ ChiShona</button>
                <button type="button" class="lang-option" data-lang="af" role="menuitem">ğŸ‡¿ğŸ‡¦ Afrikaans</button>
            </div>
        </div>

        <button class="btn btn-primary" id="postItemBtn" type="button">
            <span class="btn-icon">+</span>
            <span class="btn-text" data-i18n="postItem">Post Item</span>
        </button>
    </div>
</nav>

<!-- Hero Section -->
<section id="home" class="hero-section" aria-labelledby="hero-heading">
    <div class="hero-content">
        <div class="glass-card hero-card">
            <h1 id="hero-heading" data-i18n="heroTitle">Trade Without Internet</h1>
            <p class="hero-description" data-i18n="heroDescription">
                Buy, sell, and barter essential goods with your nearby community. Works completely offline.
            </p>
            <!-- Features -->
            <div class="hero-features">
                <div class="feature-badge"><span class="feature-icon">ğŸ“</span><span class="feature-text" data-i18n="featureLocal">Local Only</span></div>
                <div class="feature-badge"><span class="feature-icon">ğŸ”’</span><span class="feature-text" data-i18n="featureSecure">Secure</span></div>
                <div class="feature-badge"><span class="feature-icon">ğŸŒ¾</span><span class="feature-text" data-i18n="featureEssential">Essential Goods</span></div>
            </div>

            <!-- Categories -->
            <div class="hero-categories-section">
                <h2 class="hero-categories-title" data-i18n="categoriesTitle">Available Categories</h2>
                <div class="hero-categories-grid">
                    <div class="hero-category-card" data-category="food"><div class="hero-cat-icon">ğŸŒ¾</div><div class="hero-cat-name" data-i18n="catFood">Food</div><div class="hero-cat-items">Maize, Beans, Vegetables, Rice</div><div class="hero-cat-count">4 items</div></div>
                    <div class="hero-category-card" data-category="livestock"><div class="hero-cat-icon">ğŸ</div><div class="hero-cat-name" data-i18n="catLivestock">Livestock</div><div class="hero-cat-items">Goats, Chickens, Dairy Cow</div><div class="hero-cat-count">3 items</div></div>
                    <div class="hero-category-card" data-category="tools"><div class="hero-cat-icon">ğŸ› ï¸</div><div class="hero-cat-name" data-i18n="catTools">Tools</div><div class="hero-cat-items">Farming Tools, Wheelbarrow, Water Pump</div><div class="hero-cat-count">3 items</div></div>
                    <div class="hero-category-card" data-category="services"><div class="hero-cat-icon">ğŸ’¼</div><div class="hero-cat-name" data-i18n="catServices">Services</div><div class="hero-cat-items">Ploughing, Transport, Repair, Classes</div><div class="hero-cat-count">4 items</div></div>
                    <div class="hero-category-card" data-category="herbs"><div class="hero-cat-icon">ğŸŒ¿</div><div class="hero-cat-name" data-i18n="catHerbs">Herbs</div><div class="hero-cat-items">Moringa, Neem, Aloe Vera, Ginger</div><div class="hero-cat-count">4 items</div></div>
                </div>
                <div class="hero-total-items"><strong data-i18n="totalItems">Total: 18 items available</strong></div>
            </div>

            <div class="hero-actions">
                <button class="btn btn-primary btn-large" id="browseMarketBtn" data-i18n="browseMarket">Browse Market</button>
                <button class="btn btn-secondary btn-large" id="learnMoreBtn" data-i18n="howItWorks">How It Works</button>
            </div>

            <!-- Connection Status -->
            <div class="offline-indicator">
                <span class="status-dot" id="connectionStatus"></span>
                <span id="statusText" data-i18n="checkingConnection">Checking connection...</span>
            </div>
        </div>
    </div>
</section>

<!-- Market Section -->
<section id="market" class="section" aria-labelledby="market-heading">
    <div class="section-header">
        <h2 class="section-title" id="market-heading" data-i18n="marketTitle">ğŸ›’ Local Market</h2>
        <p class="section-subtitle" data-i18n="marketSubtitle">Essential goods from your community</p>
    </div>
    <div class="filter-bar">
        <button class="filter-btn active" data-category="all" aria-pressed="true" type="button" data-i18n="filterAll">All Items</button>
        <button class="filter-btn" data-category="food" aria-pressed="false"><span class="filter-icon">ğŸŒ¾</span><span class="filter-text" data-i18n="catFood">Food</span></button>
        <button class="filter-btn" data-category="livestock" aria-pressed="false"><span class="filter-icon">ğŸ</span><span class="filter-text" data-i18n="catLivestock">Livestock</span></button>
        <button class="filter-btn" data-category="tools" aria-pressed="false"><span class="filter-icon">ğŸ› ï¸</span><span class="filter-text" data-i18n="catTools">Tools</span></button>
        <button class="filter-btn" data-category="services" aria-pressed="false"><span class="filter-icon">ğŸ’¼</span><span class="filter-text" data-i18n="catServices">Services</span></button>
        <button class="filter-btn" data-category="herbs" aria-pressed="false"><span class="filter-icon">ğŸŒ¿</span><span class="filter-text" data-i18n="catHerbs">Herbs</span></button>
    </div>
    <div class="market-grid" id="marketGrid" role="list"></div>
    <div class="load-more"><button class="btn btn-secondary" id="loadMoreBtn" type="button" data-i18n="loadMore">Load More</button></div>
</section>

<!-- My Items, Community, Help, Footer, Post Modal ... -->
<!-- Keep the rest of your HTML as-is, same as your previous version -->

<!-- Toast -->
<div id="toastContainer" aria-live="polite" aria-atomic="true"></div>

<!-- JS -->
<script src="js/translations.js"></script>
<script src="js/location-system.js"></script>
<script src="js/app.js"></script>

<!-- Remove loading class -->
<script>
window.addEventListener('load', () => document.body.classList.remove('loading'));
</script>
</body>
</html>
